<!DOCTYPE html>
<html>
<head>
    <title>rsSliderLens plugin</title>
    <link rel="stylesheet" href="../../dist/rsSliderLens.css" />
    <link rel="stylesheet" href="test.css" />
    <link rel="stylesheet" href="demo.css" />
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.4/jquery.min.js"></script>
    <script src="../jquery.rsSliderLens.js"></script>
</head>
<body>
    
    <h1>jquery-rsSliderLens demonstration</h1>
    <p>With this plug-in, you can change the default input range, from this:</p>
    <pre>
&lt;input type="range"&gt;
    </pre>
    <!-- 0 -->
    <input type="range">
    <label></label>

    <p>to:</p>
    <pre>
&lt;input type="range"&gt;
&lt;script&gt;
    <span>$("input").rsSliderLens();</span>
&lt;/script&gt;
    </pre>
    <!-- 1 -->
    <input type="range">
    <label></label>

    <p>To use a step 25, you can add a <code>step</code> attribute to the <code>&lt;input&gt;</code> element or add a parameter to the plug-in constructor:</p>
    <pre>
&lt;input type="range"&gt;
&lt;script&gt;
    $("input").rsSliderLens({
        <span>step: 25</span>
    });
&lt;/script&gt;
    </pre>
    <!-- 2 -->
    <input type="range">
    <label></label>

    <p>The 0 and 100 labels are cropped! No problem, just add a padding space equal to 10% of the slider width:</p>
    <pre>
&lt;input type="range"&gt;
&lt;script&gt;
    $("input").rsSliderLens({
        step: 25,
        <span>paddingStart: 0.1,
        paddingEnd: 0.1</span>
    });
&lt;/script&gt;
    </pre>
    <!-- 3 -->
    <input type="range">
    <label></label>

    <p>By default <code>&lt;input type="range"&gt;</code> has a range between 0 and 100.<br>
      For other ranges, you can add <code>min</code> and <code>max</code> attributes to the <code>&lt;input&gt;</code> element, or in the plug-in constructor:</p>
    <pre>
&lt;input type="range"&gt;
&lt;script&gt;
    $("input").rsSliderLens({
        step: 25,
        paddingStart: 0.1,
        paddingEnd: 0.1,
        <span>min: -50,
        max: 150</span>
    });
&lt;/script&gt;
    </pre>
    <!-- 4 -->
    <input type="range">
    <label></label>

    <p>Great, but now the labels overlap each other.<br>
      To fix this, you have some options: (click each one for a sample)</p>
    <aside class="opt1">
        <label><input name="opt" type="radio" value="1" checked>Increase the slider width in CSS;</label>
        <label><input name="opt" type="radio" value="2">Increase the slider width in the plug-in constructor;</label>
        <label><input name="opt" type="radio" value="3">Use a vertical slider;</label>
        <label><input name="opt" type="radio" value="4">Hide the labels;</label>
        <label><input name="opt" type="radio" value="5">Use a fixed handle slider.</label>
    </aside>

    <div id="o1">
        <pre>
&lt;input type="range"&gt;
<span>&lt;style&gt;
    input {
        width: 400px;
    }
&lt;/style&gt;</span>
&lt;script&gt;
    $("input").rsSliderLens({
        step: 25,
        paddingStart: 0.1,
        paddingEnd: 0.1,
        min: -50,
        max: 150
    });
&lt;/script&gt;
        </pre>
        <!-- 5 -->
        <input type="range">
        <label></label>
    </div>

    <div id="o2">
        <pre>
&lt;input type="range"&gt;
&lt;script&gt;
    $("input").rsSliderLens({
        <span>width: 400,</span>
        step: 25,
        paddingStart: 0.1,
        paddingEnd: 0.1,
        min: -50,
        max: 150
    });
&lt;/script&gt;
        </pre>
        <!-- 6 -->
        <input type="range">
        <label></label>
    </div>

    <div id="o3">
        <pre>
&lt;input type="range"&gt;
<span>&lt;style&gt;
    input {
        width: 40px;
        height: 300px;
    }
&lt;/style&gt;</span>
&lt;script&gt;
    $("input").rsSliderLens({
        step: 25,
        paddingStart: 0.1,
        paddingEnd: 0.1,
        min: -50,
        max: 150
    });
&lt;/script&gt;
        </pre>
        <!-- 7 -->
        <input type="range">
        <label></label>
    </div>

    <div id="o4">
        <pre>
&lt;input type="range"&gt;
&lt;script&gt;
    $("input").rsSliderLens({
        step: 25,
        min: -50,
        max: 150,
        <span>ruler: {
            labels: {
                visible: false
            }
        }</span>
    });
&lt;/script&gt;
        </pre>
        <!-- 8 -->
        <input type="range">
        <label></label>
    </div>

    <div id="o5">
        <pre>
&lt;input type="range"&gt;
&lt;script&gt;
    $("input").rsSliderLens({
        step: 25,
        paddingStart: 0.1,
        paddingEnd: 0.1,
        min: -50,
        max: 150,
        <span>fixedHandle: true,
        ruler: {
            size: 4 <mark>// 400% of the &lt;input type=range&gt; width</mark>
        }</span>
    });
&lt;/script&gt;
        </pre>
        <!-- 9 -->
        <input type="range">
        <label></label>
    </div>

    <p>Use a range to restrict input even further:</p>
    <pre>
&lt;input type="range"&gt;
&lt;script&gt;
    $("input").rsSliderLens({
        width: 300,
        height: 45,
        step: 10,
        paddingStart: 0.1,
        paddingEnd: 0.1,
        <span>range: {
            type: [20, 60],
            draggable: true
        }</span>
    });
&lt;/script&gt;
    </pre>
    <!-- 10 -->
    <input type="range">
    <label></label>
    <p class="small">Use your mouse to drag the range to other location</p>

    <p>If you want labels every 20 positions, but with a step of 1:</p>
    <pre>
&lt;input type="range"&gt;
&lt;script&gt;
    $("input").rsSliderLens({
        <span>step: 1,</span>
        paddingStart: 0.1,
        paddingEnd: 0.1,
        <span>ruler: {
            labels: {
                values: [0, 20, 40, 60, 80, 100]
            }
        }</span>
    });
&lt;/script&gt;
    </pre>
    <!-- 11 -->
    <input type="range">
    <label></label>

    <p>The same slider, but now with a fixed handle style with a min=0 and max=500:</p>
    <pre>
&lt;input type="range"&gt;
&lt;script&gt;
    <span>var labels = [];
    for (var i = 0; i <= 500; i+= 20) {
        labels.push(i);
    }</span>
    $("input").rsSliderLens({
        <span>step: 1,</span>
        paddingStart: 0.1,
        paddingEnd: 0.1,
        <span>width: 300,
        max: 500,
        fixedHandle: true,
        ruler: {
            labels: {
                values: labels
            }
        }</span>
    });
&lt;/script&gt;
    </pre>
    <!-- 12 -->
    <input type="range">
    <label></label>

    <p>Using customized events to display current value inside the handle and to style labels:</p>
    <pre>
&lt;input type="range"&gt;
<span>&lt;style&gt;
    #custom + .range, <mark>// range outside the handle </mark>
    #custom ~ .handle .range { <mark>// range inside the handle </mark>
        background: -moz-linear-gradient(left, red 0%, green 100%);
        background: -webkit-linear-gradient(left, red 0%, green 100%);
        background: linear-gradient(to right, red 0%, green 100%);
    }
&lt;/style&gt;</span>
&lt;script&gt;
    $("input").rsSliderLens({
        step: 1,
        paddingStart: 0.1,
        paddingEnd: 0.1,
        min: -20,
        max: 20,
        ruler: {
            labels: {
                values: [-20, -10, 0, 10, 20],
                <span>onCustomLabel: function(event, value) {
                    return value > 0 ? '+' + value : value;
                },
                onCustomAttrs: function(event, value) {
                    if (value < 0) return { style: 'fill:red' };
                    if (value > 0) return { style: 'fill:green' };
                    <mark>// no style defined for zero, so returns nothing (or undefined)</mark>
                }</span>
            }
        },
        <span>onCreate: function (event) {
            <mark>// append a new child &lt;label&gt; element to the .handle</mark>
            $(event.currentTarget).nextAll(".handle").append("&lt;label&gt;");
        },
        onChange: function (event, value) {
            <mark>// use the &lt;label&gt; element created at run-time, to display the current value</mark>
            var $labelElement = $(event.currentTarget).nextAll(".handle").children("label");
            $labelElement.text(value < 0 ? value : ((value > 0 ? '+' : '') + value));
        }</span>
    });
&lt;/script&gt;
    </pre>
    <!-- 13 -->
    <input type="range" id="custom">

    <p>You have the choice of OnChange or OnFinalChange (recommended for computationally expensive tasks)</p>
    <pre>
&lt;input type="range"&gt;
&lt;script&gt;
    $("input").rsSliderLens({
        <span>onChange: function (event, value) {
            $changeLabel.text(value);
        },
        onFinalChange: function (event, value) {
            $finalChangeLabel.text(value);
        }</span>
    });
&lt;/script&gt;
    </pre>
    <!-- 14 -->
    <input type="range">
    <aside id="changeLabels">
        <label></label>
        <label></label>
    </aside>

    <p>Did I mention the support for double handle sliders?</p>
    <pre>
&lt;input type="range"&gt;
&lt;script&gt;
    $("input").rsSliderLens({
        <span>value: [10, 18]</span>
    });
&lt;/script&gt;
    </pre>
    <!-- 15 -->
    <input type="range">
    <aside id="doubleHandleLabels">
        <label></label>
        <label></label>
    </aside>

    <p>You can bind the plug-in to any element, not only to an &lt;input type=range&gt;:</p>
    <pre>
&lt;span&gt;Hello world&lt;/span&gt;
&lt;script&gt;
    $("span").rsSliderLens();
&lt;/script&gt;
    </pre>
    <!-- 16 -->
    <span class="slider">Hello world</span>
    <label></label>
    <span class="slider">
        <img src="http://loremflickr.com/120/80" width="60" height="40">
        <img src="http://loremflickr.com/120/80" width="60" height="40">
        <img src="http://loremflickr.com/120/80" width="60" height="40">
    </span>
    <label></label>
    

    <script>
        var $inputs = $("input[type=range], span.slider"),
            change = function (event, value, isFirstHandle) {
                $(event.currentTarget).parent("div").next("label").text(value);
            };

        $inputs.eq(0).change(function () {
            $(this).next("label").text(this.value);
        }).change();

        $inputs.eq(1).rsSliderLens({ onChange: change });
        $inputs.eq(2).rsSliderLens({ step: 25, onChange: change });
        $inputs.eq(3).rsSliderLens({ step: 25, paddingStart: 0.1, paddingEnd: 0.1, onChange: change });
        $inputs.eq(4).rsSliderLens({ step: 25, paddingStart: 0.1, paddingEnd: 0.1, min: -50, max: 150, onChange: change });
        $inputs.eq(5).rsSliderLens({ step: 25, paddingStart: 0.1, paddingEnd: 0.1, min: -50, max: 150, onChange: change });
        $inputs.eq(6).rsSliderLens({ width: 400, step: 25, paddingStart: 0.1, paddingEnd: 0.1, min: -50, max: 150, onChange: change });
        $inputs.eq(7).rsSliderLens({ step: 25, paddingStart: 0.1, paddingEnd: 0.1, min: -50, max: 150, onChange: change });
        $inputs.eq(8).rsSliderLens({ step: 25, min: -50, max: 150, ruler: { labels: { visible: false }}, onChange: change });
        $inputs.eq(9).rsSliderLens({ step: 25, paddingStart: 0.1, paddingEnd: 0.1, min: -50, max: 150, fixedHandle: true,
            ruler: { size: 4 }, onChange: change
        });
        $inputs.eq(10).rsSliderLens({ width: 300, height: 45, step: 10, paddingStart: 0.1, paddingEnd: 0.1, range: { type: [20, 60], draggable: true }, onChange: change });
        $inputs.eq(11).rsSliderLens({ step: 1, paddingStart: 0.1, paddingEnd: 0.1, ruler: { labels: { values: [0, 20, 40, 60, 80, 100] }}, onChange: change });

        var labels = [];
        for (var i = 0; i <= 500; i+= 20) {
            labels.push(i);
        }
        $inputs.eq(12).rsSliderLens({ step: 1, paddingStart: 0.1, paddingEnd: 0.1, width: 300, max: 500, fixedHandle: true, ruler: { labels: { values: labels }, size: 4 }, onChange: change });
        $inputs.eq(13).rsSliderLens({ step: 1, paddingStart: 0.1, paddingEnd: 0.1, min: -20, max: 20,
            ruler: {
                labels: {
                    values: [-20, -10, 0, 10, 20],
                    onCustomLabel: function(event, value) {
                        return value > 0 ? '+' + value : value;
                    },
                    onCustomAttrs: function(event, value) {
                        if (value < 0) return { style: 'fill:red' };
                        if (value > 0) return { style: 'fill:green' };
                        // no style defined for zero, so returns nothing (or undefined)
                    }
                  }
                },
                onCreate: function (event) {
                    // append a new child <label> element to the .handle
                    $(event.currentTarget).nextAll(".handle").append("<label>");
                },
                onChange: function (event, value) {
                    // use the <label> element created at run-time, to display the current value 
                    var $labelElement = $(event.currentTarget).nextAll(".handle").children("label");
                    $labelElement.text(value < 0 ? value : ((value > 0 ? '+' : '') + value));
                }
            });
        $inputs.eq(14).rsSliderLens({
            onChange: function (event, value) {
                $("#changeLabels label").first().text(value);
            },
            onFinalChange: function (event, value) {
                $("#changeLabels label").last().text(value);
            }
        });
        $inputs.eq(15).rsSliderLens({
            step: 5,
            width: 300,
            paddingStart: .1,
            paddingEnd: .1,
            value: [10, 25],
            onChange: function (event, value, isFirstHandle) {
                $("#doubleHandleLabels label").eq(isFirstHandle ? 0 : 1).text(value);
            }
        });
        $inputs.slice(16, 18).rsSliderLens({ ruler: { visible: false }, onChange: change });

        $("aside input[type=radio]").change(function() { 
            $("aside").removeClass("opt1 opt2 opt3 opt4 opt5").addClass("opt" + this.value);
        });
        $("#o1, #o2, #o3, #o4, #o5").hide();
    </script>
</body>
</html>
